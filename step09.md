# File Cabinet

## Шаг 9 - Удаление записей

Цель: реализовать удаление записей с помощью команды _remove_, а также дефрагментацию с помощью команды _purge_.

Изменения каждого задания должно находиться в отдельном коммите, который должен иметь понятное и ясное описание.


### Задания

#### Удаление записей

Реализовать команду _remove_, которая должна принимать как параметр идентификатор удаляемой записи. 

Пример использования:

```sh
> remove 1
Record #1 is removed.
> remove 1
Record #1 doesn't exists.
```

Для _FileCabinetMemoryService_ удаление должно заключаться в том, что запись должна быть удалена из списка, а после этого должны быть удалены ссылки на эту запись из всех словарей-индексов.

Для _FileCabinetFilesystemService_ удаление должно заключаться в том, что запись должна быть помечена в файле данных как удаленная с помощью бита _IsDeleted_.

| Bit         |     3-15 |                            2 |      0-1 |
|-------------|----------|------------------------------|----------|
| Name        | Reserved | IsDeleted                    | Reserved |
| Description | Reserved | 0 - not deleted, 1 - deleted | Reserved |

Если запись помечена как удаленная, она должна быть пропущена при операциях изменения содержимого записей и поиска. Допускается добавлять новую запись с идентичным идентификатором в конец файла.


#### Дефрагментация файла данных

Реализовать команду _purge_, которая должна работать только для _FileCabinetFilesystemService_. Команда должна производить дефрагментацию файла данных - удаление "пустот" в файле данных, образованных записями с установленным битом _IsDeleted_.


Пример использования:

```sh
> purge
Data file processing is completed: 10 of 100 records were purged.
```

Для _FileCabinetMemoryService_ команда не выполняет никакой работы.

Пример дефрагментации (Rn - запись с номером n, x - запись с установленным битом _IsDeleted_):

```
[ R1 | R2 | x | R3 | x | R4 | R5 | x | x | x | R6 ]

=>

[ R1 | R2 | R3 | R4 | R5 | R6 ]
```


#### Статистика записей

Измените реализацию команды _stat_, чтобы она кроме общего количества записей, выводила количество удаленных записей. Для _FileCabinetMemoryService_ значение удаленных записей всегда будет равным 0, так как записи в этом сервиса удаляются сразу после вызова команды _remove_.
